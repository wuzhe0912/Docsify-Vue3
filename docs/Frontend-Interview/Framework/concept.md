# 前端框架

## 1. 如何理解 MVC 和 MVVM 差異？
### MVC
```
view => 前端(切版、套入動畫效果)
controller => 後端(控制 router)
model => 後端(database)
```
`MVC`開始流行的原因，是為了解決早期程式碼混在一起的困境(義大利麵式的程式碼)因此`MVC`開始進行職責分工，`view`負責畫面顯示，控管`router`和網站行為則由`controller`，查詢資料庫的資料，則是`model`，在這個時代前端工程師這個職缺才開始浮現出來(負責`view`)。也因為`router`交由後端控制，因此這時期的網頁仍是多頁面式的網頁，切換頁面時自然是真的在切換不同`HTML`頁面，故有明顯的`loading`時間。

### MVVM
```
Model => 後端控制
View => 依然是前端(控制使用者看到的渲染頁面)
ViewModel => 前端(改由前端控制 router)
```
進入`MVVM`時代，將原生`JS`操作`DOM`這件事交給框架處理，前端負責改變框架中的資料，驅動資料使頁面重新渲染。因此前端處理的是`view`和`viewModel`，而`model`則是後端在處理。這個時候已經轉型為`SPA`(單頁式應用)，網站頁面切換時，看似切換不同頁面，但本質只是切換同一頁的不同區塊，這時網頁的流暢性與使用體驗會更加流暢。

## 2. SPA(單頁式應用)優缺點
### 優點
  - 對使用者來說，`SPA`不再是過往`MVC`架構下，由`server`端產生頁面，而是改為`MVVM`的形式，自然就不需要每次更新頁面就全畫面重新渲染，只需要透過`ajax`抓取後端資料，動態更新一小部分區域即可，使用體驗良好。
  - 也因為後端不需要考慮渲染問題`(view)`，除了團隊開發上可以分工更明確，除了可以降低後端效能的浪費，同時對頻寬的壓力也有所減輕，也就是相對不吃`server`資源。
  - 既然前後端分離，對後端來說，資料本身就可以更具擴充性，只需要設計好`JSON`結構的接口，對`web`或`app`兩邊都可以重複使用，降低開發成本。

### 缺點
  - SEO：因為頁面渲染的內容，都是透過`JS`動態抓取資料，早前的搜尋引擎在爬蟲時會抓不到`HTML`上的數據，但目前`Google`宣稱目前已經可以抓取(2021)，有待觀察。
  - 首頁渲染效能：仰賴頁面載入`JS`後進行資料渲染，不可避免會有等待時間，自然會閃過整頁空白的畫面，使用體驗下降，尤其是弱網環境或是使用者手機硬體效能較差時，這部分的缺陷還會被進一步放大。

### SSR
  - 為了改善前述`SEO`的缺陷，主流框架也提出相對的解決方案，`React -> Next`&`Vue -> Nuxt`，主要目的都是讓程式可以在`server`端先被執行過一次，讓`HTML`本身已經包含資料內容，這樣`SEO`的部分沒問題，再讓框架的部分依序執行，滿足`SPA`的使用體驗。

  - 開發上，因為承繼原有框架的寫法與功能，對開發者而言，相對學習曲線較低，但是專案本身的複雜度會上升，除非是仰賴搜尋引擎的產品網頁，否則無此需求。一般後台`CMS`維持使用`SPA`即可，減輕維護成本。